面向对象三大特征：==封装，继承，多态==

#抽象（类与对象）

类是对象的数据类型

类是具有相同属性和行为的一组对象集合

类是java基本组成单位

-----------------

无参构造方法，继承Object

有参构造方法，即构造方法的重构

-----------------

成员变量：**核心**

成员方法：维护成员变量的作用

（分为静态static和非静态）

- **实例变量**只属于具体的**对象**，**类变量**为所有的对象**共享** 
- **类方法**只能操作该方法中的**局部变量**和**类变量**,而不能访问实例变量。　
---------------

成员变量与局部变量的区别：
成员变量：类中，方法外，堆内存，有默认值
局部变量：方法中，栈内存，无默认值，先定义后使用

# 封装（private）

- private修饰的成员，只能本类访问
- 针对他类，提供public方法操作，如get/set

```java
public class Student {
    private int age;
    private String name;
    
    public Student(){
    }
    public Student(String name,int age){
        this.name=name;
        this.age=age;
    }

    public void setName(String name){
        this.name=name;
    }
    public String getName(){
        return this.name;
    }
	public void setAge(int age){
        if (age<0||age>120){
            System.out.println("Wrong value");
        }else{
            this.age=age;
        }
    }
    public int getAge(){
        return this.age;
    }
    
}
```

# 访问属性

## 类-访问属性

- 一般使用public类、默认类
- private 类、protected类用于修饰内部类

public类
能被任何包中（任何目录）的类访问(生成对象)

默认类 ：
只能被同一包中（同一个目录）的类访问

==结论：类一般要用public修饰。==
## 成员-访问属性

![image-20200131184558998](C:\Users\Hery\Desktop\GitHub\java\image\image-20200131184558998.png)



总的原则：只有在能访问类的前提下，才能访问该类中的成员变量和成员方法。(大、小气候)
但是其它类能否访问该类中的成员变量和成员方法，就要看该成员变量和成员方法的访问属性。

# 内存分配

Person tom=new Person(1,"tom","男" );
JVM做了什么事情？
  （1）加载类
  （2）初始化类
  （3）调用构造方法,生成对象

##1、加载类

  实例化该类的对象。Person tom=new Person(1,"tom","男" );
  引用类的static成员。System.out.println(Person .school); 

类加载到方法区，但是static变量并未初始化

###方法区
1、类结构信息：
- 属性 :      public String name;
- 方法 :      public void setName(String name)
- 类变量  :  public static String school
- 常量池  :  constant pool 
- 方法的字节码(bytecodes) 

-------------------
2、类对应的方法表
方法表是一组对类实例方法的引用（包括从父类继承的方法）。【不包含类方法】
每个类对应一个方法表。 

-------------------
![image-20200201114330035](C:\Users\Hery\Desktop\GitHub\java\image\image-20200201114330035.png)

##2、初始化类
每个类或接口被首次主动使用时才初始化。(仅初始化一次)
1. 创建类实例

2. 访问静态变量【类常量除外】

3. 调用静态方法

4. 反射

5. 初始化子类

6. Java虚拟机被标明为启动类的类（包含main方法) 

----------

- 给类变量赋初始值
- 执行类块
```java
static{
    System.out.println(“hello”);
}
```

##3、调用构造方法生成对象

(1)在**堆**中分配空间給该对象 。

(2) 初始化实例变量。

(3)调构造方法 ，生成对象，并由**引用**指向该对象

![image-20200201124745054](C:\Users\Hery\Desktop\GitHub\java\image\image-20200201124745054.png)